<!DOCTYPE html>
<html lang="en">

<head>
  <title>listings</title>
  <link rel="stylesheet" href="../css/index.css">
  <style>
    .filters {
      display: flex;
    }

    .filter p {
      font-size: 13px;
    }

    .filter {
      text-align: center;
      margin-right: 15px;
      opacity: 0.8;
      cursor: pointer;
    }

    .filter:hover {
      opacity: 1;
    }

    .filter i {
      font-size: 30px;
    }

    .tax-toggle {
      padding: 10px;
      border: 1.5px solid black;
      border-radius: 20px;
      height: 50px;
    }
  </style>
</head>
<% layout('./layout/boilerplate') -%>

  <body>
    <!-- <h3>all listings</h3> -->
    <div class="filters">
      <div class="filter">
        <div><i class="fa-solid fa-fire"></i></div>
        <p>trending</p>
      </div>
      <div class="filter">
        <div><i class="fa-solid fa-bed"></i></div>
        <p>rooms</p>
      </div>
      <div class="filter">
        <div><i class="fa-brands fa-fort-awesome"></i></div>
        <p>castles</p>
      </div>
      <div class="filter">
        <div><i class="fa-solid fa-mountain-sun"></i></div>
        <p>mountain-sun</p>
      </div>
      <div class="filter">
        <div><i class="fa-solid fa-mountain-city"></i></div>
        <p>mountain-city</p>
      </div>
      <div class="filter">
        <div><i class="fa-solid fa-cable-car"></i></div>
        <p>cable-car</p>
      </div>
      <div class="filter">
        <div><i class="fa-solid fa-volcano"></i></div>
        <p>volcano</p>
      </div>
      <div class="filter">
        <div><i class="fa-solid fa-person-swimming"></i></div>
        <p>pools</p>
      </div>
      <div class="filter">
        <div><i class="fa-solid fa-wheat-awn"></i></div>
        <p>farms</p>
      </div>
      <div class="filter">
        <div><i class="fa-solid fa-campground"></i></div>
        <p>camping</p>
      </div>
      <div class="filter">
        <div><i class="fa-regular fa-snowflake"></i></div>
        <p>snow</p>
      </div>

      <div class="tax-toggle ms-auto">
        <div class="form-check form-check-reverse form-switch">
          <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
          <label class="form-check-label" for="flexSwitchCheckDefault">Display totle after taxes</label>
        </div>
      </div>
    </div>
    <div class="row mt-1">
      <%for (list of listings){%>
        <div class="card col-xl-3 col-lg-4 col-md-4 col-sm-6 col-xs-12">
          <a href="/listings/<%=list._id%>/show" style="text-decoration: none; color: black;">
            <img src="<%=list.image.url%>" alt="<%=list.image.filename%>" class="card-img-top" style="width: 100%;">
            <div class="card-img-overlay">
              <p>
                <%=list.description%>
              </p>
            </div>
            <div class="card-body">
              <p>
                <b>
                  <%=list.location%> ,
                    <%=list.country%>
                </b>
              </p>
              <p>
                <%=list.title%>
              </p>
              <p>
                price: &#8377;<%=list.price.toLocaleString('en-IN')%>/night <i class="tax-gst d-none">+18%GST</i>
              </p>
            </div>
          </a>

        </div>
        <%}%>
    </div>
  </body>
  <script>
    taxSwitch = document.getElementById("flexSwitchCheckDefault")
    taxGST = document.getElementsByClassName("tax-gst")
    taxSwitch.addEventListener("click", () => {
      for (tax of taxGST) {
        tax.classList.toggle("d-none");
      }
    })
  </script>

</html>